<!DOCTYPE html>
<html>
<head>
    <title>Remote-home logon page</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.css">
    <link rel="stylesheet" type="text/css" href="login.css">
    <link rel="stylesheet" type="text/css" href="magic.css">
    <script type="text/javascript" src="jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="bootstrap.js"></script>

<script>
    $(function () {
        $("#logon").button().click(function () {
            $("#addLogonResult").html('');
            var userName = $("#userName").val();
            var userPassword = $("#userPassword").val();
            $.ajax({
                url: "/",
                'cache': false,
                type: "get",
                data: "ServiceName=UserManagementService&logon=true&userName="+userName+"&userPassword="+userPassword+"&" + Math.floor((Math.random() * 100) + 1),
                success: function (data) {
                    if(data == 'TRUE') {
                        document.location.reload(true);
                    } else {
                        $("#addLogonResult").html(err_credentials);
                    }
                },
                error: function () {
                    alert(err_free_deviceId);
                }
            });
        });
        $("#recover").button().click(function () {
            $("#addRecoverResult").html('');
            var userEmail = $("#userEmail").val();
            $.ajax({
                url: "/",
                'cache': false,
                type: "get",
                data: "ServiceName=UserManagementService&recover=true&userEmail="+userEmail+"&" + Math.floor((Math.random() * 100) + 1),
                success: function (data) {
                    $("#addRecoverResult").html(data);
                },
                error: function () {
                    alert(err_recover_password);
                }
            });
        });
    });

</script>
</head>
<body>
<div class="container">
    <div class="text-center">
        <img src="logo.png" alt="Remote-Home Logo">
    </div>
    <div class="tab-content">
        <div id="login" class="tab-pane active">
            <form id="logonForm" class="form-signin">
                <p class="text-muted text-center">
                    Enter your username and password
                </p>
                <input type="text" id="userName" name="userName" placeholder="Username" class="form-control">
                <input type="password" id="userPassword" name="userPassword" placeholder="Password" class="form-control">
                <div id="addLogonResult">&nbsp;</div>
                <br />
            </form>
            <!--<button class="btn btn-lg btn-primary btn-block" id="logon">Sign in</button>-->
            <input class="btn btn-lg btn-primary btn-block" id="logon">Sign in</input>
        </div>
        <div id="forgot" class="tab-pane">
            <form id="recoverForm" class="forgotForm">
                <p class="text-muted text-center">
                    Enter your valid e-mail
                </p>
                <input type="email" id="userEmail" name="userEmail" placeholder="mail@domain.com" required="required" class="form-control">
                <div id="addRecoverResult">&nbsp;</div>
                <br>
            </form>
            <!--<button class="btn btn-lg btn-danger btn-block" id="recover">Recover Password</button>-->
            <input class="btn btn-lg btn-primary btn-block" id="recover">Recover Password</input>
        </div>
    </div>
    <div class="text-center">
        <ul class="list-inline">
            <li><a class="text-muted" href="#login" data-toggle="tab">Login</a></li>
            <li><a class="text-muted" href="#forgot" data-toggle="tab">Forgot Password</a></li>
        </ul>
    </div>
</div>
<script>
    $('.list-inline li > a').click(function() {
        var activeForm = $(this).attr('href') + ' > form';
        //console.log(activeForm);
        $(activeForm).addClass('magictime swap');
        //set timer to 1 seconds, after that, unload the magic animation
        setTimeout(function() {
            $(activeForm).removeClass('magictime swap');
        }, 1000);
    });
</script>
</body>
</html>