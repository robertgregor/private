<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <script>
        $(function () {
            $("#accordion").accordion({heightStyle: "content"});
            $("#setChPwd").button();
            $("#changeChannelPassowrd").submit(function (event) {
                event.preventDefault();
                if ($(this).valid()) {
                    $("#changeChannelPassowrdResult").html('');
                    var values = $(this).serialize();
                    $.ajax({
                        url: "/",
                        'cache': false,
                        type: "get",
                        data: values,
                        success: function (data) {
                            $("#changeChannelPassowrdResult").html(data);
                        },
                        error: function () {
                            $("#changeChannelPassowrdResult").html(err_change_channelPwd);
                        }
                    });
                }
            });
        });
        $(document).ready(function () {
            $("#changeChannelPassowrd").validate({
                rules: {
                    channel: { required: true, range: [1, 83] },
                    password: { required: true, exactlength: 9 }
                },
                messages: {
                    channel: { required: err_channel_empty, range: err_channel_range },
                    password: { required: err_pwd_empty, exactlength: err_pwd_range }
                }
            });
            $.ajax({
                url: "/",
                'cache': false,
                type: "get",
                data: "ServiceName=LoadChannelPassword&" + Math.floor((Math.random() * 100) + 1),
                success: function (data) {
                    document.getElementById("channel").value = data.split("\n")[0];
                    document.getElementById("password").value = data.split("\n")[1];
                },
                error: function () {
                    alert(err_get_channel_pwd);
                }
            });
        });
        document.getElementById('setChPwd').value = setChPwd_form;
        setLabel("channel_password_cfg");
        setLabel("channel_device");
        setLabel("password_device");
        document.getElementById('channel').title = channel_device_desc;
        document.getElementById('password').title = password_device_desc;
        setLabel("wifi_configuration");
        setLabel("user_management");

    </script>
</head>
<body>
<div id="accordion">

    <h3><span id="user_management"></span></h3>
    <div>
    </div>

    <h3><span id="channel_password_cfg"></span></h3>
    <div>
        <p><span id="channel_password_cfg_text"></span></p>
        <form id="changeChannelPassowrd">
            <table>
                <tr>
                    <td><label for="channel"><span id="channel_device"></span></label></td>
                    <td><input name="channel" id="channel"/></td>
                </tr>
                <tr>
                    <td><label for="password"><span id="password_device"></span></label></td>
                    <td><input name="password" id="password"/></td>
                </tr>
                <tr>
                    <td><input type="hidden" name="ServiceName" value="ChangeChannelPwd"/><input id="setChPwd"
                                                                                                 type="submit"/></td>
                    <td>
                        <div id="changeChannelPassowrdResult">&nbsp;</div>
                    </td>
                </tr>
            </table>
        </form>
    </div>

    <h3><span id="wifi_configuration"></span></h3>
    <div>
    </div>

</div>
</body>
</html>