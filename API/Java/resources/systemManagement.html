<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <script>
        $(function () {
            $("#accordion").accordion({heightStyle: "content"});
            $("#setChPwd").button();
            $("#changeChannelPassowrd").submit(function (event) {
                event.preventDefault();
                if ($(this).valid()) {
                    $("#changeChannelPassowrdResult").html('');
                    var values = $(this).serialize();
                    $.ajax({
                        url: "/",
                        'cache': false,
                        type: "get",
                        data: values,
                        success: function (data) {
                            $("#changeChannelPassowrdResult").html(data);
                        },
                        error: function () {
                            $("#changeChannelPassowrdResult").html(err_change_channelPwd);
                        }
                    });
                }
            });
            $("#addUser").button();
            $("#userManagementForm").submit(function (event) {
                event.preventDefault();
                if ($(this).valid()) {
                    $("#addUserResult").html('');
                    var values = $(this).serialize();
                    $.ajax({
                        url: "/",
                        'cache': false,
                        type: "get",
                        data: values,
                        success: function (data) {
                            $("#addUserResult").html(data);
                        },
                        error: function () {
                            $("#addUserResult").html(err_add_user);
                        }
                    });
                }
            });
            $("#modifyUser").button();
            $("#modifyUserForm").submit(function (event) {
                event.preventDefault();
                if ($(this).valid()) {
                    $("#modifyUserResult").html('');
                    var values = $(this).serialize();
                    $.ajax({
                        url: "/",
                        'cache': false,
                        type: "get",
                        data: values,
                        success: function (data) {
                            $("#modifyUserResult").html(data);
                        },
                        error: function () {
                            $("#modifyUserResult").html(err_change_user);
                        }
                    });
                }
            });

        });
        $(document).ready(function () {
            $("#changeChannelPassowrd").validate({
                rules: {
                    channel: { required: true, range: [1, 83] },
                    password: { required: true, exactlength: 9 }
                },
                messages: {
                    channel: { required: err_channel_empty, range: err_channel_range },
                    password: { required: err_pwd_empty, exactlength: err_pwd_range }
                }
            });
            $.ajax({
                url: "/",
                'cache': false,
                type: "get",
                data: "ServiceName=LoadChannelPassword&" + Math.floor((Math.random() * 100) + 1),
                success: function (data) {
                    document.getElementById("channel").value = data.split("\n")[0];
                    document.getElementById("password").value = data.split("\n")[1];
                },
                error: function () {
                    alert(err_get_channel_pwd);
                }
            });

            document.getElementById('setChPwd').value = setChPwd_form;
            document.getElementById('addUser').value = adduser_form;
            document.getElementById('modifyUser').value = modifyuser_form;
            setLabel("channel_password_cfg");
            setLabel("channel_device");
            setLabel("password_device");
            document.getElementById('channel').title = channel_device_desc;
            document.getElementById('password').title = password_device_desc;
            setLabel("wifi_configuration");
            setLabel("user_management");
            setLabel("user_management_text");
            setLabel("user_name");
            setLabel("user_password");
            setLabel("user_confirm_password");
            setLabel("group_id");
            var selectGROUP = document.getElementById("groupId");
            selectGROUP.options[1].text = admin_label;
            selectGROUP.options[2].text = reader_label;
            setLabel("modify_user_text");
            setLabel("groupId2");
            setLabel("group_id_2");
            setLabel("user_name_modify");
            setLabel("user_password_modify_actual");
            setLabel("user_confirm_password_modify");
            setLabel("user_confirm_password_modify_confirm");
        });

    </script>
</head>
<body>
<div id="accordion">

    <h3><span id="user_management"></span></h3>
    <div>
        <p><h3 id="user_management_text"></h3></p>
        <form id="userManagementForm">
            <table>
                <tr>
                    <td><label for="user_name"><span id="user_name"></span></label></td>
                    <td><input name="userName" id="userName"/></td>
                </tr>
                <tr>
                    <td><label for="user_password"><span id="user_password"></span></label></td>
                    <td><input type="password" name="userPassword" id="userPassword"/></td>
                </tr>
                <tr>
                    <td><label for="user_confirm_password"><span id="user_confirm_password"></span></label></td>
                    <td><input type="password" name="userConfirmPassword" id="userConfirmPassword"/></td>
                </tr>
                <tr>
                    <td><label for="group_id"><span id="group_id"></span></label></td>
                    <td>
                        <select width="100%" id="groupId" name="groupId">
                            <option value="0">&nbsp;</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><input type="hidden" name="ServiceName" value="UserManagement"/>
                        <input type="hidden" name="method" value="addUser"/>
                        <input id="addUser" type="submit"/></td>
                    <td>
                        <div id="addUserResult">&nbsp;</div>
                    </td>
                </tr>
            </table>
        </form>
        <p><h3 id="modify_user_text"></h3></p>
        <form id="modifyUserForm">
            <table>
                <tr>
                    <td><label for="user_name_modify"><span id="user_name_modify"></span></label></td>
                    <td>
                        <select width="100%" id="userNameModify" name="userNameModify">
                            <option value="0">&nbsp;</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="user_password_modify_actual"><span id="user_password_modify_actual"></span></label></td>
                    <td><input type="password" name="userPasswordModifyActual" id="userPasswordModifyActual"/></td>
                </tr>
                <tr>
                    <td><label for="user_confirm_password_modify"><span id="user_confirm_password_modify"></span></label></td>
                    <td><input type="password" name="userConfirmPasswordModify" id="userConfirmPasswordModify"/></td>
                </tr>
                <tr>
                    <td><label for="user_confirm_password_modify_confirm"><span id="user_confirm_password_modify_confirm"></span></label></td>
                    <td><input type="password" name="userConfirmPasswordModifyConfirm" id="userConfirmPasswordModifyConfirm"/></td>
                </tr>
                <tr>
                    <td><label for="group_id_2"><span id="group_id_2"></span></label></td>
                    <td>
                        <select width="100%" id="groupId2" name="groupId2">
                            <option value="0">&nbsp;</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><input type="hidden" name="ServiceName" value="UserManagement"/>
                        <input type="hidden" name="method" value="modifyUser"/>
                        <input id="modifyUser" type="submit"/></td>
                    <td>
                        <div id="modifyUserResult">&nbsp;</div>
                    </td>
                </tr>
            </table>
        </form>

    </div>

    <h3><span id="channel_password_cfg"></span></h3>
    <div>
        <p><span id="channel_password_cfg_text"></span></p>
        <form id="changeChannelPassowrd">
            <table>
                <tr>
                    <td><label for="channel"><span id="channel_device"></span></label></td>
                    <td><input name="channel" id="channel"/></td>
                </tr>
                <tr>
                    <td><label for="password"><span id="password_device"></span></label></td>
                    <td><input name="password" id="password"/></td>
                </tr>
                <tr>
                    <td><input type="hidden" name="ServiceName" value="ChangeChannelPwd"/><input id="setChPwd"
                                                                                                 type="submit"/></td>
                    <td>
                        <div id="changeChannelPassowrdResult">&nbsp;</div>
                    </td>
                </tr>
            </table>
        </form>
    </div>

    <h3><span id="wifi_configuration"></span></h3>
    <div>
    </div>

</div>
</body>
</html>